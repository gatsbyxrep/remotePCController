<html>

<head>
    <script>
        const socket = new WebSocket("ws://" + window.location.hostname + ":228")
        socket.binaryType = "arraybuffer"
        socket.onmessage = (event) => {
            console.log(event.data)
        }

        function sendRaw() {
            const arr = Array.prototype.slice.call(arguments, 1)
            socket.send(arr)
        }

        window.onload = () => {
            document.querySelector('#sndBtn').onclick = () => {
                document.querySelector('#debug').innerHTML += sendRaw(0, 10, 10)
            }
        }

        window.onbeforeunload = function() {
            websocket.onclose = function() {}
            websocket.close()
        };
    </script>
</head>

<body>
    <p id='debug'> chlen </p>
    <button id='sndBtn'> SEND SEND SEND </button>
</body>

</html>